<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The CheckBox Tree with multi-parented Observable Store</title>
    <style type="text/css">
      @import "../../../dijit/themes/claro/claro.css";
      @import "../../../dijit/themes/claro/document.css";
      @import "../../../dijit/tests/css/dijitTests.css";
      @import "../../themes/claro/claro.css";

    </style>

    <script type="text/javascript">
      var dojoConfig = {
            async: true,
            parseOnLoad: true,
            isDebug: true,
            baseUrl: "../../../",
            packages: [
              { name: "dojo",  location: "dojo" },
              { name: "dijit", location: "dijit" },
              { name: "cbtree",location: "cbtree" }
            ]
      };
    </script>

    <script type="text/javascript" src="../../../dojo/dojo.js"></script>
    <script type="text/javascript">
      require([
        "dojo/ready",
        "cbtree/Tree",                     // Checkbox tree
        "cbtree/model/ForestStoreModel",   // Object Store Tree Model
        "cbtree/store/ObjectStore"         // Evented Object Store with Hierarchy
        ], function( ready, Tree, StoreModel, Store) {

        ready(function(){
			store  = new Store({idProperty:"name"});
            var options = { sort:
                //{attribute: 'name'}
                function() {
					throw new Error("Bingo");
					return 1
				}
            }
            model  = new StoreModel({ store:store, query:{type:"PAI"}, options: options});
            tree   = new Tree( {model:model, showRoot:false, persist:false}, "tree" );
            tree.startup();

            loadData(store, data)
        })
      })

	  var data = [
			{ name: '1o PAI', type: 'PAI' },
			{ name: '2o PAI', type: 'PAI' },
			{ name: '11o PAI', type: 'PAI' }
		];

	function loadData(store, data) {
        for (i in data) console.log('added '+store.add(data[i]))
      }
    </script>

  </head>

  <body class="claro">
    <h1 class="DemoTitle">The CheckBox Tree with Multi State CheckBoxes</h1>
    <p>
			A CheckBox Tree using an observable, multi-parented cbtree/store Hierarchy Store.<br/>
		</p>
    <div id="tree">
    </div>
  </body>
</html>